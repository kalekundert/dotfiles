#compdef pytest

_arguments -s -S \
    '-h[show help message and configuration info]'      \
    '-V[display pytest version and information about plugins]'      \
    '-v[increase verbosity]'      \
    '-q[decrease verbosity]'      \
    '-k[only run tests which match the given substring]'      \
    '-m[only run tests matching the given mark expression]'      \
    '-x[exit instantly on first error or failed test]'      \
    '--pdb[start the interactive Python debugger on errors]'      \
    '--trace[immediately break when running each test]'      \
    '--lf[rerun only the tests that failed at the last run]'      \
    '--ff[run all tests, but run the last failures first]'      \
    '--nf[run tests from new files first]'      \
    '--sw[exit on test failure and continue from last failing test next time]'      \
    '--sw-skip[ignore the first failing test but stop on the next failing test]'      \
    '-l[show locals in tracebacks]'      \
    '--cov[path or package name to measure during execution]'      \
    '--cov-report[type of report to generate]'      \
    '*:Python script:_files -g "*.py"'                                                          \

